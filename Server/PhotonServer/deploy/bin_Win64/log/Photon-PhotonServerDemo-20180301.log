1496: 20:10:38.690 - ---
1496: 20:10:38.690 - Service: "Photon Socket Server" starting
1496: 20:10:38.691 - Config File: E:\Dev\MMORPGDemo\Server\PhotonServer\deploy\bin_Win64\PhotonServer.config
1496: 20:10:38.696 - Will produce at most: 10 crash dumps
1496: 20:10:38.696 - Action: run as exe
1496: 20:10:38.697 - Server Starting...
1496: 20:10:38.697 -    Tick count: 41932406 (wraps in: 49.2249 days)
1496: 20:10:38.697 - Tick count 64: 41932406
1496: 20:10:38.697 - Photon Version: 4.0.28.2962
1496: 20:10:38.697 - PID: 13036
1496: 20:10:38.697 - Config File: E:\Dev\MMORPGDemo\Server\PhotonServer\deploy\bin_Win64\PhotonServer.config
1496: 20:10:38.698 - Will NOT log unimportant exceptions
1496: 20:10:38.702 - Not using performance counters as they are not currently installed. Run the service with /InstallCounters to install them.
1496: 20:10:38.702 - Shutdown timeout enabled: 30000ms
1496: 20:10:38.702 - Starting I/O thread pool with 2 threads
1496: 20:10:38.702 - Using Standard allocator
1496: 20:10:38.702 - Max message size: 512000
1496: 20:10:38.702 - Starting business logic thread pool with the following settings
1496: 20:10:38.702 - InitialThreads: 4 threads
1496: 20:10:38.702 - MinThreads: 4 threads
1496: 20:10:38.702 - Thread pool is fixed size
1496: 20:10:38.703 - Starting ENet thread pool with the following settings
1496: 20:10:38.703 - InitialThreads: 2 threads
1496: 20:10:38.703 - MinThreads: 2 threads
1496: 20:10:38.703 - Thread pool is fixed size
1496: 20:10:38.703 - OnlyDispatchTimers: False
1496: 20:10:38.703 - S2S: flow control: Max pending writes: 50
1496: 20:10:38.703 - S2S: flow control: Max queued buffers: 200
1496: 20:10:38.703 - S2S: flow control: Max pending writes MUX: 500
1496: 20:10:38.703 - S2S: flow control: Max queued buffers MUX: 2000
1496: 20:10:38.703 - S2S: MaxInboundMessageSize: 512000
1496: 20:10:38.703 - S2S: MaxOutboundMessageSize: 512000
1496: 20:10:38.703 - S2S: No inactivity timeout
1496: 20:10:38.712 - WebSocket S2S: MaxInboundMessageSize: 512000
1496: 20:10:38.712 - WebSocket S2S: MaxOutboundMessageSize: 512000
1496: 20:10:38.712 - WebSocket S2S: No inactivity timeout
1496: 20:10:38.712 - Max Reliable Data In Transit (awaiting ACKs) per peer : 51200 bytes
1496: 20:10:38.712 - Per peer bandwidth limit
1496: 20:10:38.712 - Transmit Rate Limit: 256 KB/Sec
1496: 20:10:38.712 - Limit period: 200ms
1496: 20:10:38.712 - Limit per period: 52428 bytes
1496: 20:10:38.712 - Max queued data for transmission per peer: 512000 bytes
1496: 20:10:38.712 - Minimum retransmit timeout: 200
1496: 20:10:38.712 - No Maximum retransmit timeout
1496: 20:10:38.712 - Minimum ENet timeout: 5000ms
1496: 20:10:38.713 - Maximum ENet timeout: 30000ms
1496: 20:10:38.713 - Max Inbound Reliable Data Queued (awaiting resends of earlier sequence numbers) per peer : 163840 bytes
1496: 20:10:38.713 - No RTT ACK adjustment timeout
1496: 20:10:38.713 - Outbound ENet: MaxInboundMessageSize: 512000
1496: 20:10:38.713 - Outbound ENet: MaxOutboundMessageSize: 512000
1496: 20:10:38.725 - GetRuntime - About to load CLR - versions available:
1496: 20:10:38.725 - v2.0.50727
1496: 20:10:38.725 - v4.0.30319
1496: 20:10:38.725 - Configuration requests: "v2.0.50727"
1496: 20:10:38.725 - About to load version: "v2.0.50727"
1496: 20:10:38.776 - About to load runtime: PhotonHostRuntime.PhotonDomainManager from PhotonHostRuntime, Culture=neutral, PublicKeyToken=02C301B61B060C4D
1496: 20:10:38.776 - CLRBaseDirectory set to "E:\Dev\MMORPGDemo\Server\PhotonServer\deploy"
1496: 20:10:38.776 - Optimising event broadcast for 20 or more peers
1496: 20:10:38.777 - Start: About to load CLR - versions available:
1496: 20:10:38.777 - v2.0.50727
1496: 20:10:38.777 - v4.0.30319
1496: 20:10:38.777 - No preference in configuration file, will load latest.
1496: 20:10:38.777 - About to load version: "v4.0.30319"
1496: 20:10:38.779 - Loaded version: "v4.0.30319"
1496: 20:10:39.006 - Photon host runtime loaded
1496: 20:10:40.673 - License is valid.
1496: 20:10:40.673 - Licensed for 100 concurrent connections.
1496: 20:10:40.673 - ENet: Max Reliable Data In Transit (awaiting ACKs) per peer : 51200 bytes
1496: 20:10:40.673 - ENet: Per peer bandwidth limit
1496: 20:10:40.673 - ENet: Transmit Rate Limit: 256 KB/Sec
1496: 20:10:40.673 - ENet: Limit period: 200ms
1496: 20:10:40.673 - ENet: Limit per period: 52428 bytes
1496: 20:10:40.673 - ENet: Max queued data for transmission per peer: 512000 bytes
1496: 20:10:40.673 - ENet: Minimum retransmit timeout: 200
1496: 20:10:40.673 - No Maximum retransmit timeout
1496: 20:10:40.673 - ENet: Minimum timeout: 5000ms
1496: 20:10:40.673 - ENet: Maximum timeout: 30000ms
1496: 20:10:40.673 - ENet: Max Inbound Reliable Data Queued (awaiting resends of earlier sequence numbers) per peer : 163840 bytes
1496: 20:10:40.673 - No RTT ACK adjustment timeout
1496: 20:10:40.673 - About to load application: PhotonServerDemo from PhotonServerDemo
1496: 20:10:40.673 - Auto restart is enabled for application, existing connections will be terminated during restart
1496: 20:10:40.673 - Application will restart 1000ms after the last change detected
1496: 20:10:40.673 - Application will restart if files matching the following are changed: "dll;config"
1496: 20:10:40.673 - Application will NOT restart if files matching the following are changed: "log4net.config"
1496: 20:10:40.814 - Taking reference on default app domain
1496: 20:10:40.930 - Application: "PhotonServerDemo" started in app domain: 2
1496: 20:10:40.930 - Adding TCP listener on: 0.0.0.0: 4530 with a listen backlog of: 150
1496: 20:10:40.930 - TCP inactivity timeout: 10000ms
1496: 20:10:40.930 - TCP disconnect timeout: 120000ms
1496: 20:10:40.930 - MaxInboundMessageSize: 512000
1496: 20:10:40.930 - MaxOutboundMessageSize: 512000
1496: 20:10:40.930 - Forcing all applications ids to: "PhotonServerDemo"
1496: 20:10:40.930 - Serving policy file requests from: "E:\Dev\MMORPGDemo\Server\PhotonServer\deploy\Policy\assets\socket-policy.xml"
1496: 20:10:40.930 - Adding TCP listener on: 0.0.0.0: 4520 with a listen backlog of: 150
1496: 20:10:40.930 - TCP inactivity timeout: 5000ms
1496: 20:10:40.930 - TCP disconnect timeout: 120000ms
1496: 20:10:40.930 - MaxInboundMessageSize: 512000
1496: 20:10:40.930 - MaxOutboundMessageSize: 512000
1496: 20:10:40.930 - Forcing all applications ids to: "PhotonServerDemo"
1496: 20:10:40.930 - MaxInboundMessageSize: 512000
1496: 20:10:40.930 - MaxOutboundMessageSize: 512000
1496: 20:10:40.930 - UDP address specified as: "0.0.0.0" adding listener to each available IPv4 address
1496: 20:10:40.931 - Adding UDP listener on: 192.168.28.1: 5055 with a listen backlog of: 500
1496: 20:10:40.931 - Adding UDP listener on: 192.168.237.1: 5055 with a listen backlog of: 500
1496: 20:10:40.931 - Adding UDP listener on: 192.168.16.133: 5055 with a listen backlog of: 500
1496: 20:10:40.931 - Adding UDP listener on: 192.168.123.1: 5055 with a listen backlog of: 500
1496: 20:10:40.931 - Adding UDP listener on: 127.0.0.1: 5055 with a listen backlog of: 500
1496: 20:10:40.950 - Service is running...
1496: 20:13:46.364 - Service is stopped...
1496: 20:13:46.364 - Server shutting down...
1496: 20:13:46.364 - Shutdown monitoring enabled, 30000ms before process abort
1496: 20:13:46.364 - Notifying CLR applications of shutdown...
1496: 20:13:46.364 - RequestApplicationStop: 2
1496: 20:13:46.366 - RequestStop: defalt app domain
1496: 20:13:46.368 - Shutting down WebSocket Outbound Connection Manager...
1496: 20:13:46.368 - Shutting down TCP Outbound Connection Manager...
1496: 20:13:46.368 - Shutting down ENet Outbound Connection Manager...
1496: 20:13:46.368 - Disconnecting all outbound peers...
1496: 20:13:46.368 - Shutting down ENet host...
1496: 20:13:46.368 - Disconnecting all peers...
1496: 20:13:46.368 - Shutting down socket servers...
1496: 20:13:46.368 - Shutting down ENet thread pool...
1496: 20:13:46.368 - Shutting down TCP inactivity timers...
1496: 20:13:46.368 - WaitingForShutdownToComplete: TCP:0.0.0.0:4520
1496: 20:13:46.369 - OnShutdownCompleted: TCP:0.0.0.0:4520
1496: 20:13:46.369 - WaitingForShutdownToComplete: TCP:0.0.0.0:4530
1496: 20:13:46.369 - OnShutdownCompleted: TCP:0.0.0.0:4530
1496: 20:13:46.369 - WaitingForShutdownToComplete: UDP:127.0.0.1:5055
1496: 20:13:46.369 - OnShutdownCompleted: UDP:127.0.0.1:5055
1496: 20:13:46.369 - WaitingForShutdownToComplete: UDP:192.168.123.1:5055
1496: 20:13:46.369 - OnShutdownCompleted: UDP:192.168.123.1:5055
1496: 20:13:46.369 - WaitingForShutdownToComplete: UDP:192.168.16.133:5055
1496: 20:13:46.369 - OnShutdownCompleted: UDP:192.168.16.133:5055
1496: 20:13:46.369 - WaitingForShutdownToComplete: UDP:192.168.237.1:5055
1496: 20:13:46.369 - OnShutdownCompleted: UDP:192.168.237.1:5055
1496: 20:13:46.369 - WaitingForShutdownToComplete: UDP:192.168.28.1:5055
1496: 20:13:46.369 - OnShutdownCompleted: UDP:192.168.28.1:5055
1496: 20:13:46.369 - Shutting down CLR applications...
1496: 20:13:46.471 - PhotonServerDemo:2 - Stop() failed.
Exception:
System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 PhotonServerDemo.Threads.SyncPositionThread.Stop() 位置 E:\Dev\MMORPGDemo\Server\ServerDemo\PhotonServerDemo\Threads\SyncPositionThread.cs:行号 28
   在 PhotonServerDemo.ServerEntry.TearDown() 位置 E:\Dev\MMORPGDemo\Server\ServerDemo\PhotonServerDemo\ServerEntry.cs:行号 80
   在 Photon.SocketServer.ApplicationBase.PhotonHostRuntimeInterfaces.IPhotonControl.OnStop() 位置 h:\svncontent\photon-socketserver-sdk_cloud\src\Photon.SocketServer\ApplicationBase.cs:行号 1212
   在 PhotonHostRuntime.PhotonDomainManager.PhotonPlainAppDomainBehavior.Stop()
   在 PhotonHostRuntime.PhotonDomainManager.Stop()
1496: 20:13:46.474 - Shutting down business logic thread pool...
1496: 20:13:46.474 - Shutting down I/O thread pool...
1496: 20:13:46.475 - Destroying servers
1496: 20:13:46.475 - Destroying WebSocket Outbound Connection Manager
1496: 20:13:46.475 - Destroying TCP Outbound Connection Manager
1496: 20:13:46.475 - Destroying TCP inactivity timer
1496: 20:13:46.475 - Destroying ENet timer wheel
1496: 20:13:46.475 - Destroying ENet host
1496: 20:13:46.475 - Destroying ENet outbound host
1496: 20:13:46.475 - Destroying HTTP inactivity timer
1496: 20:13:46.475 - Destroying HTTP host
1496: 20:13:46.475 - Destroying HTTP Chunk host
1496: 20:13:46.475 - Flushing ENET buffer allocator...
1496: 20:13:46.476 - Flushing TCP buffer handle allocator...
1496: 20:13:46.476 - Flushing stream socket allocator...
1496: 20:13:46.477 - Flushing inbound datagram socket allocator...
1496: 20:13:46.478 - Flushing outbound datagram socket allocator...
1496: 20:13:46.478 - Destroying CLR dispatcher
1496: 20:13:46.478 - Destroying CLR applications
1496: 20:13:46.478 - ~CCLRApplicationCollection() - Waiting up to 10 seconds for the CLR to release all of our objects
1496: 20:13:56.478 - ~CCLRApplicationCollection() - CLR failed to release all COM objects. Photon peers and application sinks may have leaked
1496: 20:13:56.478 - ~CManagedHost() - Release default app domain
1496: 20:13:56.478 - CManagedHost::OnDomainUnload() - 1
1496: 20:13:56.478 - ~CManagedHost() - Waiting up to 10 seconds for CLR shutdown...
1496: 20:14:06.479 - ~CManagedHost() - Timeout waiting for CLR shutdown, we may report Photon peer leaks...
1496: 20:14:06.479 - Release domain manager: 2
1496: 20:14:06.479 - ~CManagedHost
1496: 20:14:06.480 - Destroying ENet thread pool
1496: 20:14:06.480 - Destroying Business logic thread pool
1496: 20:14:06.480 - Destroying I/O thread pool
1496: 20:14:06.480 - Destroying ENet buffer allocator
1496: 20:14:06.480 - Destroying TCP buffer allocator
1496: 20:14:06.480 - Destroying TCP socket allocator
1496: 20:14:06.480 - Destroying ENet inbound socket allocator
1496: 20:14:06.480 - Destroying ENet outbound socket allocator
1496: 20:14:06.480 - Destroying shared datagram flow control data
1496: 20:14:06.480 - 
1496: 20:14:06.480 - WARNING: ***************************************************************
1496: 20:14:06.480 - WARNING: CPhotonPeer leaks detected
1496: 20:14:06.480 - WARNING: ***************************************************************
1496: 20:14:06.480 - 
1496: 20:14:06.480 - Shutdown complete...
1496: 20:14:06.480 - Service shutting down: leaks detected. Errorcode: 106
1496: 20:14:06.485 - Service shut down complete
